
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>JS手写题 · Study</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="ytnosmoking">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="MIME.html" />
    
    
    <link rel="prev" href="JSON.parse实现深拷贝的弊端.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://gitee.com/go_show" target="_blank" class="custom-link">Gitee</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    GitBook配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Docker
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../Docker/基础篇.html">
            
                <a href="../Docker/基础篇.html">
            
                    
                    基础篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../Docker/基本.html">
            
                <a href="../Docker/基本.html">
            
                    
                    基本
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Flutter
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../Flutter/学习.html">
            
                <a href="../Flutter/学习.html">
            
                    
                    学习
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Git
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../Git/stash.html">
            
                <a href="../Git/stash.html">
            
                    
                    stash
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../Git/命令.html">
            
                <a href="../Git/命令.html">
            
                    
                    命令
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Gulp
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Gulp/demo.html">
            
                <a href="../Gulp/demo.html">
            
                    
                    示例
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Javascript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../JavaScript学习图谱/picture.html">
            
                <a href="../JavaScript学习图谱/picture.html">
            
                    
                    图
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Node
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../Node/Koa.js，离不开这十个中间件.html">
            
                <a href="../Node/Koa.js，离不开这十个中间件.html">
            
                    
                    koa
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../Node/koa添加日志管理模块.html">
            
                <a href="../Node/koa添加日志管理模块.html">
            
                    
                    日志
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../Node/nodejs n 管理模块.html">
            
                <a href="../Node/nodejs n 管理模块.html">
            
                    
                    n
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../Node/PM2 常用命令.html">
            
                <a href="../Node/PM2 常用命令.html">
            
                    
                    koa
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../Node/Redis 配置 _ 菜鸟教程.html">
            
                <a href="../Node/Redis 配置 _ 菜鸟教程.html">
            
                    
                    redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../Node/nvm node版本管理.html">
            
                <a href="../Node/nvm node版本管理.html">
            
                    
                    nvm
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    其他
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../其他/Wi-Fi 破解.html">
            
                <a href="../其他/Wi-Fi 破解.html">
            
                    
                    wifi
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    项目问题
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../项目问题/打包.html">
            
                <a href="../项目问题/打包.html">
            
                    
                    打包问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    前端杂项
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" >
            
                <span>
            
                    
                    Promise
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.1" data-path="Promise/100行代码实现 Promises_A+ 规范.html">
            
                <a href="Promise/100行代码实现 Promises_A+ 规范.html">
            
                    
                    100实现promise_A+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.2" data-path="Promise/从零开始手写Promise.html">
            
                <a href="Promise/从零开始手写Promise.html">
            
                    
                    从零开始手写Promise
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2" >
            
                <span>
            
                    
                    移动端
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="移动端/postcss-px-to-vw.html">
            
                <a href="移动端/postcss-px-to-vw.html">
            
                    
                    postcss-px-vw
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="MVC.html">
            
                <a href="MVC.html">
            
                    
                    MVC,MVP,MVVM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="Error.html">
            
                <a href="Error.html">
            
                    
                    Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="JSON.parse实现深拷贝的弊端.html">
            
                <a href="JSON.parse实现深拷贝的弊端.html">
            
                    
                    JSON拷贝
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.10.6" data-path="JS手写题.html">
            
                <a href="JS手写题.html">
            
                    
                    JS手写题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="MIME.html">
            
                <a href="MIME.html">
            
                    
                    MIME
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="个人总结.html">
            
                <a href="个人总结.html">
            
                    
                    个人总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="优化.html">
            
                <a href="优化.html">
            
                    
                    优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.10" data-path="前端性能优化.html">
            
                <a href="前端性能优化.html">
            
                    
                    前端性能优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.11" data-path="原型、原型链以及继承.html">
            
                <a href="原型、原型链以及继承.html">
            
                    
                    原型、原型链以及继承
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.12" data-path="常用正则.html">
            
                <a href="常用正则.html">
            
                    
                    常用正则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.13" data-path="数组去重.html">
            
                <a href="数组去重.html">
            
                    
                    数组去重
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.14" data-path="方法封装.html">
            
                <a href="方法封装.html">
            
                    
                    方法封装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.15" data-path="浏览器并发处理个数.html">
            
                <a href="浏览器并发处理个数.html">
            
                    
                    浏览器并发处理个数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.16" data-path="骨架屏项目实践.html">
            
                <a href="骨架屏项目实践.html">
            
                    
                    骨架屏项目实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    前端框架
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" >
            
                <span>
            
                    
                    Vue
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1.1" data-path="../前端框架/Vue/Vue3 学习手册.html">
            
                <a href="../前端框架/Vue/Vue3 学习手册.html">
            
                    
                    Vue3手册
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.2" data-path="../前端框架/Vue/Vue 项目 优化 开发 生产.html">
            
                <a href="../前端框架/Vue/Vue 项目 优化 开发 生产.html">
            
                    
                    vue优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.3" data-path="../前端框架/Vue/vite.config.ts 基础配置分享.html">
            
                <a href="../前端框架/Vue/vite.config.ts 基础配置分享.html">
            
                    
                    vite
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.4" data-path="../前端框架/Vue/directives.html">
            
                <a href="../前端框架/Vue/directives.html">
            
                    
                    自定义指令
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11.2" >
            
                <span>
            
                    
                    React
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.2.1" data-path="../前端框架/React/React 不使用 eject 的配置方法（config-overrides 复现 vue 项目全部配置config-overrides.html">
            
                <a href="../前端框架/React/React 不使用 eject 的配置方法（config-overrides 复现 vue 项目全部配置config-overrides.html">
            
                    
                    react_config-overridess
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2.2" data-path="../前端框架/React/React 状态 管理工具.html">
            
                <a href="../前端框架/React/React 状态 管理工具.html">
            
                    
                    react-状态管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2.3" data-path="../前端框架/React/React Hooks区别.html">
            
                <a href="../前端框架/React/React Hooks区别.html">
            
                    
                    react-hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2.4" data-path="../前端框架/React/Mobx使用.html">
            
                <a href="../前端框架/React/Mobx使用.html">
            
                    
                    react-mobx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2.5" data-path="../前端框架/React/自定义Hooks.html">
            
                <a href="../前端框架/React/自定义Hooks.html">
            
                    
                    自定义Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2.6" data-path="../前端框架/React/生命周期 与 Hooks.html">
            
                <a href="../前端框架/React/生命周期 与 Hooks.html">
            
                    
                    生命周期与Hooks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11.3" >
            
                <span>
            
                    
                    TypeScript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.3.1" data-path="../前端框架/TypeScript/TypeScript tsconfig.json 配置详解.html">
            
                <a href="../前端框架/TypeScript/TypeScript tsconfig.json 配置详解.html">
            
                    
                    tsconfig
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3.2" data-path="../前端框架/TypeScript/types.html">
            
                <a href="../前端框架/TypeScript/types.html">
            
                    
                    高级类型
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    面试
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../前端面试/CSS.html">
            
                <a href="../前端面试/CSS.html">
            
                    
                    CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../前端面试/Javascript.html">
            
                <a href="../前端面试/Javascript.html">
            
                    
                    Javascript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../前端面试/前端核心.html">
            
                <a href="../前端面试/前端核心.html">
            
                    
                    核心
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../前端面试/前端进阶.html">
            
                <a href="../前端面试/前端进阶.html">
            
                    
                    进阶
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../前端面试/基础知识.html">
            
                <a href="../前端面试/基础知识.html">
            
                    
                    基础
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    Linux
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../Linux/命令.html">
            
                <a href="../Linux/命令.html">
            
                    
                    命令
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    树
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../树/二叉树入门.html">
            
                <a href="../树/二叉树入门.html">
            
                    
                    二叉树入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../树/平衡树.html">
            
                <a href="../树/平衡树.html">
            
                    
                    平衡树
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" >
            
                <span>
            
                    
                    文档
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../相关开发文档/相关库 开发文档链接.html">
            
                <a href="../相关开发文档/相关库 开发文档链接.html">
            
                    
                    链接
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" >
            
                <span>
            
                    
                    规范
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="../规范/前端使用 Commitizen 规范 git commit 全中文汉化.html">
            
                <a href="../规范/前端使用 Commitizen 规范 git commit 全中文汉化.html">
            
                    
                    规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >JS手写题</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="tips">tips</h1>
<h2 id="&#x9605;&#x8BFB;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x505A;&#x4EC0;&#x4E48;">&#x9605;&#x8BFB;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x505A;&#x4EC0;&#x4E48;</h2>
<h3 id="&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5224;&#x65AD;">&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5224;&#x65AD;</h3>
<hr>
<p>typeof &#x53EF;&#x4EE5;&#x6B63;&#x786E;&#x8BC6;&#x522B;&#xFF1A;Undefined&#x3001;Boolean&#x3001;Number&#x3001;String&#x3001;Symbol&#x3001;Function &#x7B49;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x5176;&#x4ED6;&#x7684;&#x90FD;&#x4F1A;&#x8BA4;&#x4E3A;&#x662F; object&#xFF0C;&#x6BD4;&#x5982; Null&#x3001;Date &#x7B49;&#xFF0C;&#x6240;&#x4EE5;&#x901A;&#x8FC7; typeof &#x6765;&#x5224;&#x65AD;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4F1A;&#x4E0D;&#x51C6;&#x786E;&#x3002;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; Object.prototype.toString &#x5B9E;&#x73B0;&#x3002;</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">typeOf</span>(<span class="hljs-params">obj</span>) </span>{  
    <span class="hljs-keyword">let</span> res = <span class="hljs-built_in">Object</span>.prototype.toString.call(obj).split(<span class="hljs-string">&apos; &apos;</span>)[<span class="hljs-number">1</span>]  
    res = res.substring(<span class="hljs-number">0</span>, res.length - <span class="hljs-number">1</span>).toLowerCase()  
    <span class="hljs-keyword">return</span> res  
}  
typeOf([])        <span class="hljs-comment">// &apos;array&apos;  </span>
typeOf({})        <span class="hljs-comment">// &apos;object&apos;  </span>
typeOf(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>)  <span class="hljs-comment">// &apos;date&apos;</span>
</code></pre>
<h2 id="&#x7EE7;&#x627F;">&#x7EE7;&#x627F;</h2>
<h3 id="&#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;">&#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;</h3>
<pre><code class="lang-java"><span class="hljs-function">function <span class="hljs-title">Animal</span><span class="hljs-params">()</span> </span>{  
    <span class="hljs-keyword">this</span>.colors = [<span class="hljs-string">&apos;black&apos;</span>, <span class="hljs-string">&apos;white&apos;</span>]  
}  
Animal.prototype.getColor = function() {  
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.colors  
}  
<span class="hljs-function">function <span class="hljs-title">Dog</span><span class="hljs-params">()</span> </span>{}  
Dog.prototype =  <span class="hljs-keyword">new</span> Animal()  

let dog1 = <span class="hljs-keyword">new</span> Dog()  
dog1.colors.push(<span class="hljs-string">&apos;brown&apos;</span>)  
let dog2 = <span class="hljs-keyword">new</span> Dog()  
console.log(dog2.colors)  <span class="hljs-comment">// [&apos;black&apos;, &apos;white&apos;, &apos;brown&apos;]</span>
</code></pre>
<p>&#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;&#xFF1A;</p>
<ul>
<li><p>&#x95EE;&#x9898;1&#xFF1A;&#x539F;&#x578B;&#x4E2D;&#x5305;&#x542B;&#x7684;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x5C5E;&#x6027;&#x5C06;&#x88AB;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x5171;&#x4EAB;&#xFF1B;</p>
</li>
<li><p>&#x95EE;&#x9898;2&#xFF1A;&#x5B50;&#x7C7B;&#x5728;&#x5B9E;&#x4F8B;&#x5316;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x80FD;&#x7ED9;&#x7236;&#x7C7B;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4F20;&#x53C2;&#xFF1B;</p>
</li>
</ul>
<h3 id="&#x501F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5B9E;&#x73B0;&#x7EE7;&#x627F;">&#x501F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5B9E;&#x73B0;&#x7EE7;&#x627F;</h3>
<pre><code>function Animal(name) {  
    this.name = name  
    this.getName = function() {  
        return this.name  
    }  
}  
function Dog(name) {  
    Animal.call(this, name)  
}  
Dog.prototype =  new Animal()
</code></pre><p>&#x501F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5B9E;&#x73B0;&#x7EE7;&#x627F;&#x89E3;&#x51B3;&#x4E86;&#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;&#x7684; 2 &#x4E2A;&#x95EE;&#x9898;&#xFF1A;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x5171;&#x4EAB;&#x95EE;&#x9898;&#x4EE5;&#x53CA;&#x4F20;&#x53C2;&#x95EE;&#x9898;&#x3002;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x5B9A;&#x4E49;&#x5728;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x5BFC;&#x81F4;&#x6BCF;&#x6B21;&#x521B;&#x5EFA;&#x5B50;&#x7C7B;&#x5B9E;&#x4F8B;&#x90FD;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x904D;&#x65B9;&#x6CD5;&#x3002;</p>
<h3 id="&#x7EC4;&#x5408;&#x7EE7;&#x627F;">&#x7EC4;&#x5408;&#x7EE7;&#x627F;</h3>
<p>&#x7EC4;&#x5408;&#x7EE7;&#x627F;&#x7ED3;&#x5408;&#x4E86;&#x539F;&#x578B;&#x94FE;&#x548C;&#x76D7;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x5C06;&#x4E24;&#x8005;&#x7684;&#x4F18;&#x70B9;&#x96C6;&#x4E2D;&#x4E86;&#x8D77;&#x6765;&#x3002;&#x57FA;&#x672C;&#x7684;&#x601D;&#x8DEF;&#x662F;&#x4F7F;&#x7528;&#x539F;&#x578B;&#x94FE;&#x7EE7;&#x627F;&#x539F;&#x578B;&#x4E0A;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x901A;&#x8FC7;&#x76D7;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7EE7;&#x627F;&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;&#x3002;&#x8FD9;&#x6837;&#x65E2;&#x53EF;&#x4EE5;&#x628A;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;&#x5728;&#x539F;&#x578B;&#x4E0A;&#x4EE5;&#x5B9E;&#x73B0;&#x91CD;&#x7528;&#xFF0C;&#x53C8;&#x53EF;&#x4EE5;&#x8BA9;&#x6BCF;&#x4E2A;&#x5B9E;&#x4F8B;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x5C5E;&#x6027;&#x3002;</p>
<pre><code>function Animal(name) {  
    this.name = name  
    this.colors = [&apos;black&apos;, &apos;white&apos;]  
}  
Animal.prototype.getName = function() {  
    return this.name  
}  
function Dog(name, age) {  
    Animal.call(this, name)  
    this.age = age  
}  
Dog.prototype =  new Animal()  
Dog.prototype.constructor = Dog  

let dog1 = new Dog(&apos;&#x5976;&#x6614;&apos;, 2)  
dog1.colors.push(&apos;brown&apos;)  
let dog2 = new Dog(&apos;&#x54C8;&#x8D64;&apos;, 1)  
console.log(dog2)   
// { name: &quot;&#x54C8;&#x8D64;&quot;, colors: [&quot;black&quot;, &quot;white&quot;], age: 1 }
</code></pre><h3 id="&#x5BC4;&#x751F;&#x5F0F;&#x7EC4;&#x5408;&#x7EE7;&#x627F;">&#x5BC4;&#x751F;&#x5F0F;&#x7EC4;&#x5408;&#x7EE7;&#x627F;</h3>
<p>&#x7EC4;&#x5408;&#x7EE7;&#x627F;&#x5DF2;&#x7ECF;&#x76F8;&#x5BF9;&#x5B8C;&#x5584;&#x4E86;&#xFF0C;&#x4F46;&#x8FD8;&#x662F;&#x5B58;&#x5728;&#x95EE;&#x9898;&#xFF0C;&#x5B83;&#x7684;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x8C03;&#x7528;&#x4E86; 2 &#x6B21;&#x7236;&#x7C7B;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x662F;&#x5728; new Animal()&#xFF0C;&#x7B2C;&#x4E8C;&#x6B21;&#x662F;&#x5728; Animal.call() &#x8FD9;&#x91CC;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x5C31;&#x662F;&#x4E0D;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x7236;&#x7C7B;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7ED9;&#x5B50;&#x7C7B;&#x539F;&#x578B;&#x8D4B;&#x503C;&#xFF0C;&#x800C;&#x662F;&#x901A;&#x8FC7;&#x521B;&#x5EFA;&#x7A7A;&#x51FD;&#x6570; F &#x83B7;&#x53D6;&#x7236;&#x7C7B;&#x539F;&#x578B;&#x7684;&#x526F;&#x672C;&#x3002;</p>
<p>&#x5BC4;&#x751F;&#x5F0F;&#x7EC4;&#x5408;&#x7EE7;&#x627F;&#x5199;&#x6CD5;&#x4E0A;&#x548C;&#x7EC4;&#x5408;&#x7EE7;&#x627F;&#x57FA;&#x672C;&#x7C7B;&#x4F3C;&#xFF0C;&#x533A;&#x522B;&#x662F;&#x5982;&#x4E0B;&#x8FD9;&#x91CC;&#xFF1A;</p>
<pre><code>- Dog.prototype =  new Animal()  
- Dog.prototype.constructor = Dog  

+ function F() {}  
+ F.prototype = Animal.prototype  
+ let f = new F()  
+ f.constructor = Dog  
+ Dog.prototype = f
</code></pre><p>&#x7A0D;&#x5FAE;&#x5C01;&#x88C5;&#x4E0B;&#x4E0A;&#x9762;&#x6DFB;&#x52A0;&#x7684;&#x4EE3;&#x7801;&#x540E;&#xFF1A;</p>
<pre><code>function object(o) {  
    function F() {}  
    F.prototype = o  
    return new F()  
}  
function inheritPrototype(child, parent) {  
    let prototype = object(parent.prototype)  
    prototype.constructor = child  
    child.prototype = prototype  
}  
inheritPrototype(Dog, Animal)
</code></pre><p>&#x5982;&#x679C;&#x4F60;&#x5ACC;&#x5F03;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x592A;&#x591A;&#x4E86;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x57FA;&#x4E8E;&#x7EC4;&#x5408;&#x7EE7;&#x627F;&#x7684;&#x4EE3;&#x7801;&#x6539;&#x6210;&#x6700;&#x7B80;&#x5355;&#x7684;&#x5BC4;&#x751F;&#x5F0F;&#x7EC4;&#x5408;&#x7EE7;&#x627F;&#xFF1A;</p>
<pre><code>- Dog.prototype =  new Animal()  
- Dog.prototype.constructor = Dog  

+ Dog.prototype =  Object.create(Animal.prototype)  
+ Dog.prototype.constructor = Dog
</code></pre><h3 id="class-&#x5B9E;&#x73B0;&#x7EE7;&#x627F;">class &#x5B9E;&#x73B0;&#x7EE7;&#x627F;</h3>
<pre><code>class Animal {  
    constructor(name) {  
        this.name = name  
    }   
    getName() {  
        return this.name  
    }  
}  
class Dog extends Animal {  
    constructor(name, age) {  
        super(name)  
        this.age = age  
    }  
}
</code></pre><h2 id="&#x6570;&#x7EC4;&#x53BB;&#x91CD;">&#x6570;&#x7EC4;&#x53BB;&#x91CD;</h2>
<p>ES5 &#x5B9E;&#x73B0;&#xFF1A;</p>
<pre><code>function unique(arr) {  
    var res = arr.filter(function(item, index, array) {  
        return array.indexOf(item) === index  
    })  
    return res  
}
</code></pre><p>ES6 &#x5B9E;&#x73B0;&#xFF1A;</p>
<pre><code>var unique = arr =&gt; [...new Set(arr)]
</code></pre><h2 id="&#x6570;&#x7EC4;&#x6241;&#x5E73;&#x5316;">&#x6570;&#x7EC4;&#x6241;&#x5E73;&#x5316;</h2>
<p>&#x6570;&#x7EC4;&#x6241;&#x5E73;&#x5316;&#x5C31;&#x662F;&#x5C06; [1, [2, [3]]] &#x8FD9;&#x79CD;&#x591A;&#x5C42;&#x7684;&#x6570;&#x7EC4;&#x62CD;&#x5E73;&#x6210;&#x4E00;&#x5C42; [1, 2, 3]&#x3002;&#x4F7F;&#x7528; Array.prototype.flat &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5C06;&#x591A;&#x5C42;&#x6570;&#x7EC4;&#x62CD;&#x5E73;&#x6210;&#x4E00;&#x5C42;&#xFF1A;</p>
<pre><code>[1, [2, [3]]].flat(2)  // [1, 2, 3]
</code></pre><p>&#x73B0;&#x5728;&#x5C31;&#x662F;&#x8981;&#x5B9E;&#x73B0; flat &#x8FD9;&#x79CD;&#x6548;&#x679C;&#x3002;</p>
<p>ES5 &#x5B9E;&#x73B0;&#xFF1A;&#x9012;&#x5F52;&#x3002;</p>
<pre><code>function flatten(arr) {  
    var result = [];  
    for (var i = 0, len = arr.length; i &lt; len; i++) {  
        if (Array.isArray(arr[i])) {  
            result = result.concat(flatten(arr[i]))  
        } else {  
            result.push(arr[i])  
        }  
    }  
    return result;  
}
</code></pre><p>ES6 &#x5B9E;&#x73B0;&#xFF1A;</p>
<pre><code>function flatten(arr) {  
    while (arr.some(item =&gt; Array.isArray(item))) {  
        arr = [].concat(...arr);  
    }  
    return arr;  
}
</code></pre><h2 id="&#x6DF1;&#x6D45;&#x62F7;&#x8D1D;">&#x6DF1;&#x6D45;&#x62F7;&#x8D1D;</h2>
<p>&#x6D45;&#x62F7;&#x8D1D;&#xFF1A;&#x53EA;&#x8003;&#x8651;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;&#x3002;</p>
<pre><code>function shallowCopy(obj) {  
    if (typeof obj !== &apos;object&apos;) return  

    let newObj = obj instanceof Array ? [] : {}  
    for (let key in obj) {  
        if (obj.hasOwnProperty(key)) {  
            newObj[key] = obj[key]  
        }  
    }  
    return newObj  
}
</code></pre><p>&#x7B80;&#x5355;&#x7248;&#x6DF1;&#x62F7;&#x8D1D;&#xFF1A;&#x53EA;&#x8003;&#x8651;&#x666E;&#x901A;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#xFF0C;&#x4E0D;&#x8003;&#x8651;&#x5185;&#x7F6E;&#x5BF9;&#x8C61;&#x548C;&#x51FD;&#x6570;&#x3002;</p>
<pre><code>function deepClone(obj) {  
    if (typeof obj !== &apos;object&apos;) return;  
    var newObj = obj instanceof Array ? [] : {};  
    for (var key in obj) {  
        if (obj.hasOwnProperty(key)) {  
            newObj[key] = typeof obj[key] === &apos;object&apos; ? deepClone(obj[key]) : obj[key];  
        }  
    }  
    return newObj;  
}
</code></pre><p>&#x590D;&#x6742;&#x7248;&#x6DF1;&#x514B;&#x9686;&#xFF1A;&#x57FA;&#x4E8E;&#x7B80;&#x5355;&#x7248;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x8FD8;&#x8003;&#x8651;&#x4E86;&#x5185;&#x7F6E;&#x5BF9;&#x8C61;&#x6BD4;&#x5982; Date&#x3001;RegExp &#x7B49;&#x5BF9;&#x8C61;&#x548C;&#x51FD;&#x6570;&#x4EE5;&#x53CA;&#x89E3;&#x51B3;&#x4E86;&#x5FAA;&#x73AF;&#x5F15;&#x7528;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<pre><code>const isObject = (target) =&gt; (typeof target === &quot;object&quot; || typeof target === &quot;function&quot;) &amp;&amp; target !== null;  

function deepClone(target, map = new WeakMap()) {  
    if (map.get(target)) {  
        return target;  
    }  
    // &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x503C;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF1A;&#x83B7;&#x53D6;&#x5B83;&#x7684;&#x7C7B;&#x578B;  
    let constructor = target.constructor;  
    // &#x68C0;&#x6D4B;&#x5F53;&#x524D;&#x5BF9;&#x8C61;target&#x662F;&#x5426;&#x4E0E;&#x6B63;&#x5219;&#x3001;&#x65E5;&#x671F;&#x683C;&#x5F0F;&#x5BF9;&#x8C61;&#x5339;&#x914D;  
    if (/^(RegExp|Date)$/i.test(constructor.name)) {  
        // &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7279;&#x6B8A;&#x5BF9;&#x8C61;(&#x6B63;&#x5219;&#x7C7B;/&#x65E5;&#x671F;&#x7C7B;)&#x7684;&#x5B9E;&#x4F8B;  
        return new constructor(target);    
    }  
    if (isObject(target)) {  
        map.set(target, true);  // &#x4E3A;&#x5FAA;&#x73AF;&#x5F15;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#x505A;&#x6807;&#x8BB0;  
        const cloneTarget = Array.isArray(target) ? [] : {};  
        for (let prop in target) {  
            if (target.hasOwnProperty(prop)) {  
                cloneTarget[prop] = deepClone(target[prop], map);  
            }  
        }  
        return cloneTarget;  
    } else {  
        return target;  
    }  
}
</code></pre><h2 id="&#x4E8B;&#x4EF6;&#x603B;&#x7EBF;&#xFF08;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x5F0F;&#xFF09;">&#x4E8B;&#x4EF6;&#x603B;&#x7EBF;&#xFF08;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x5F0F;&#xFF09;</h2>
<pre><code>class EventEmitter {  
    constructor() {  
        this.cache = {}  
    }  
    on(name, fn) {  
        if (this.cache[name]) {  
            this.cache[name].push(fn)  
        } else {  
            this.cache[name] = [fn]  
        }  
    }  
    off(name, fn) {  
        let tasks = this.cache[name]  
        if (tasks) {  
            const index = tasks.findIndex(f =&gt; f === fn || f.callback === fn)  
            if (index &gt;= 0) {  
                tasks.splice(index, 1)  
            }  
        }  
    }  
    emit(name, once = false, ...args) {  
        if (this.cache[name]) {  
            // &#x521B;&#x5EFA;&#x526F;&#x672C;&#xFF0C;&#x5982;&#x679C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5185;&#x7EE7;&#x7EED;&#x6CE8;&#x518C;&#x76F8;&#x540C;&#x4E8B;&#x4EF6;&#xFF0C;&#x4F1A;&#x9020;&#x6210;&#x6B7B;&#x5FAA;&#x73AF;  
            let tasks = this.cache[name].slice()  
            for (let fn of tasks) {  
                fn(...args)  
            }  
            if (once) {  
                delete this.cache[name]  
            }  
        }  
    }  
}  

// &#x6D4B;&#x8BD5;  
let eventBus = new EventEmitter()  
let fn1 = function(name, age) {  
    console.log(`${name} ${age}`)  
}  
let fn2 = function(name, age) {  
    console.log(`hello, ${name} ${age}`)  
}  
eventBus.on(&apos;aaa&apos;, fn1)  
eventBus.on(&apos;aaa&apos;, fn2)  
eventBus.emit(&apos;aaa&apos;, false, &apos;&#x5E03;&#x5170;&apos;, 12)  
// &apos;&#x5E03;&#x5170; 12&apos;  
// &apos;hello, &#x5E03;&#x5170; 12&apos;
</code></pre><h2 id="&#x89E3;&#x6790;-url-&#x53C2;&#x6570;&#x4E3A;&#x5BF9;&#x8C61;">&#x89E3;&#x6790; URL &#x53C2;&#x6570;&#x4E3A;&#x5BF9;&#x8C61;</h2>
<pre><code>function parseParam(url) {  
    const paramsStr = /.+\?(.+)$/.exec(url)[1]; // &#x5C06; ? &#x540E;&#x9762;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x53D6;&#x51FA;&#x6765;  
    const paramsArr = paramsStr.split(&apos;&amp;&apos;); // &#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x4EE5; &amp; &#x5206;&#x5272;&#x540E;&#x5B58;&#x5230;&#x6570;&#x7EC4;&#x4E2D;  
    let paramsObj = {};  
    // &#x5C06; params &#x5B58;&#x5230;&#x5BF9;&#x8C61;&#x4E2D;  
    paramsArr.forEach(param =&gt; {  
        if (/=/.test(param)) { // &#x5904;&#x7406;&#x6709; value &#x7684;&#x53C2;&#x6570;  
            let [key, val] = param.split(&apos;=&apos;); // &#x5206;&#x5272; key &#x548C; value  
            val = decodeURIComponent(val); // &#x89E3;&#x7801;  
            val = /^\d+$/.test(val) ? parseFloat(val) : val; // &#x5224;&#x65AD;&#x662F;&#x5426;&#x8F6C;&#x4E3A;&#x6570;&#x5B57;  

            if (paramsObj.hasOwnProperty(key)) { // &#x5982;&#x679C;&#x5BF9;&#x8C61;&#x6709; key&#xFF0C;&#x5219;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x503C;  
                paramsObj[key] = [].concat(paramsObj[key], val);  
            } else { // &#x5982;&#x679C;&#x5BF9;&#x8C61;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A; key&#xFF0C;&#x521B;&#x5EFA; key &#x5E76;&#x8BBE;&#x7F6E;&#x503C;  
                paramsObj[key] = val;  
            }  
        } else { // &#x5904;&#x7406;&#x6CA1;&#x6709; value &#x7684;&#x53C2;&#x6570;  
            paramsObj[param] = true;  
        }  
    })  

    return paramsObj;  
}
</code></pre><h2 id="&#x5B57;&#x7B26;&#x4E32;&#x6A21;&#x677F;">&#x5B57;&#x7B26;&#x4E32;&#x6A21;&#x677F;</h2>
<pre><code>function render(template, data) {  
    const reg = /\{\{(\w+)\}\}/; // &#x6A21;&#x677F;&#x5B57;&#x7B26;&#x4E32;&#x6B63;&#x5219;  
    if (reg.test(template)) { // &#x5224;&#x65AD;&#x6A21;&#x677F;&#x91CC;&#x662F;&#x5426;&#x6709;&#x6A21;&#x677F;&#x5B57;&#x7B26;&#x4E32;  
        const name = reg.exec(template)[1]; // &#x67E5;&#x627E;&#x5F53;&#x524D;&#x6A21;&#x677F;&#x91CC;&#x7B2C;&#x4E00;&#x4E2A;&#x6A21;&#x677F;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5B57;&#x6BB5;  
        template = template.replace(reg, data[name]); // &#x5C06;&#x7B2C;&#x4E00;&#x4E2A;&#x6A21;&#x677F;&#x5B57;&#x7B26;&#x4E32;&#x6E32;&#x67D3;  
        return render(template, data); // &#x9012;&#x5F52;&#x7684;&#x6E32;&#x67D3;&#x5E76;&#x8FD4;&#x56DE;&#x6E32;&#x67D3;&#x540E;&#x7684;&#x7ED3;&#x6784;  
    }  
    return template; // &#x5982;&#x679C;&#x6A21;&#x677F;&#x6CA1;&#x6709;&#x6A21;&#x677F;&#x5B57;&#x7B26;&#x4E32;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;  
}
</code></pre><p>&#x6D4B;&#x8BD5;&#xFF1A;</p>
<pre><code>let template = &apos;&#x6211;&#x662F;{{name}}&#xFF0C;&#x5E74;&#x9F84;{{age}}&#xFF0C;&#x6027;&#x522B;{{sex}}&apos;;  
let person = {  
    name: &apos;&#x5E03;&#x5170;&apos;,  
    age: 12  
}  
render(template, person); // &#x6211;&#x662F;&#x5E03;&#x5170;&#xFF0C;&#x5E74;&#x9F84;12&#xFF0C;&#x6027;&#x522B;undefined
</code></pre><h2 id="&#x56FE;&#x7247;&#x61D2;&#x52A0;&#x8F7D;">&#x56FE;&#x7247;&#x61D2;&#x52A0;&#x8F7D;</h2>
<p>&#x4E0E;&#x666E;&#x901A;&#x7684;&#x56FE;&#x7247;&#x61D2;&#x52A0;&#x8F7D;&#x4E0D;&#x540C;&#xFF0C;&#x5982;&#x4E0B;&#x8FD9;&#x4E2A;&#x591A;&#x505A;&#x4E86; 2 &#x4E2A;&#x7CBE;&#x5FC3;&#x5904;&#x7406;&#xFF1A;</p>
<ul>
<li><p>&#x56FE;&#x7247;&#x5168;&#x90E8;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x540E;&#x79FB;&#x9664;&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#xFF1B;</p>
</li>
<li><p>&#x52A0;&#x8F7D;&#x5B8C;&#x7684;&#x56FE;&#x7247;&#xFF0C;&#x4ECE; imgList &#x79FB;&#x9664;&#xFF1B;</p>
</li>
</ul>
<pre><code>let imgList = [...document.querySelectorAll(&apos;img&apos;)]  
let length = imgList.length  

const imgLazyLoad = function() {  
    let count = 0  
    return function() {  
        let deleteIndexList = []  
        imgList.forEach((img, index) =&gt; {  
            let rect = img.getBoundingClientRect()  
            if (rect.top &lt; window.innerHeight) {  
                img.src = img.dataset.src  
                deleteIndexList.push(index)  
                count++  
                if (count === length) {  
                    document.removeEventListener(&apos;scroll&apos;, imgLazyLoad)  
                }  
            }  
        })  
        imgList = imgList.filter((img, index) =&gt; !deleteIndexList.includes(index))  
    }  
}  

// &#x8FD9;&#x91CC;&#x6700;&#x597D;&#x52A0;&#x4E0A;&#x9632;&#x6296;&#x5904;&#x7406;  
document.addEventListener(&apos;scroll&apos;, imgLazyLoad)
</code></pre><p>&#x53C2;&#x8003;&#xFF1A;&#x56FE;&#x7247;&#x61D2;&#x52A0;&#x8F7D;[1]</p>
<h2 id="&#x51FD;&#x6570;&#x9632;&#x6296;">&#x51FD;&#x6570;&#x9632;&#x6296;</h2>
<p>&#x89E6;&#x53D1;&#x9AD8;&#x9891;&#x4E8B;&#x4EF6; N &#x79D2;&#x540E;&#x53EA;&#x4F1A;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x5982;&#x679C; N &#x79D2;&#x5185;&#x4E8B;&#x4EF6;&#x518D;&#x6B21;&#x89E6;&#x53D1;&#xFF0C;&#x5219;&#x4F1A;&#x91CD;&#x65B0;&#x8BA1;&#x65F6;&#x3002;</p>
<p>&#x7B80;&#x5355;&#x7248;&#xFF1A;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x652F;&#x6301;&#x4F7F;&#x7528; this &#x548C; event &#x5BF9;&#x8C61;&#xFF1B;</p>
<pre><code>function debounce(func, wait) {  
    var timeout;  
    return function () {  
        var context = this;  
        var args = arguments;  
        clearTimeout(timeout)  
        timeout = setTimeout(function(){  
            func.apply(context, args)  
        }, wait);  
    }  
}
</code></pre><p>&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>var node = document.getElementById(&apos;layout&apos;)  
function getUserAction(e) {  
    console.log(this, e)  // &#x5206;&#x522B;&#x6253;&#x5370;&#xFF1A;node &#x8FD9;&#x4E2A;&#x8282;&#x70B9; &#x548C; MouseEvent  
    node.innerHTML = count++;  
};  
node.onmousemove = debounce(getUserAction, 1000)
</code></pre><p>&#x6700;&#x7EC8;&#x7248;&#xFF1A;&#x9664;&#x4E86;&#x652F;&#x6301; this &#x548C; event &#x5916;&#xFF0C;&#x8FD8;&#x652F;&#x6301;&#x4EE5;&#x4E0B;&#x529F;&#x80FD;&#xFF1A;</p>
<ul>
<li><p>&#x652F;&#x6301;&#x7ACB;&#x5373;&#x6267;&#x884C;&#xFF1B;</p>
</li>
<li><p>&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x6709;&#x8FD4;&#x56DE;&#x503C;&#xFF1B;</p>
</li>
<li><p>&#x652F;&#x6301;&#x53D6;&#x6D88;&#x529F;&#x80FD;&#xFF1B;</p>
</li>
</ul>
<pre><code>function debounce(func, wait, immediate) {  
    var timeout, result;  

    var debounced = function () {  
        var context = this;  
        var args = arguments;  

        if (timeout) clearTimeout(timeout);  
        if (immediate) {  
            // &#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x8FC7;&#xFF0C;&#x4E0D;&#x518D;&#x6267;&#x884C;  
            var callNow = !timeout;  
            timeout = setTimeout(function(){  
                timeout = null;  
            }, wait)  
            if (callNow) result = func.apply(context, args)  
        } else {  
            timeout = setTimeout(function(){  
                func.apply(context, args)  
            }, wait);  
        }  
        return result;  
    };  

    debounced.cancel = function() {  
        clearTimeout(timeout);  
        timeout = null;  
    };  

    return debounced;  
}
</code></pre><p>&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>var setUseAction = debounce(getUserAction, 10000, true);  
// &#x4F7F;&#x7528;&#x9632;&#x6296;  
node.onmousemove = setUseAction  

// &#x53D6;&#x6D88;&#x9632;&#x6296;  
setUseAction.cancel()
</code></pre><p>&#x53C2;&#x8003;&#xFF1A;JavaScript&#x4E13;&#x9898;&#x4E4B;&#x8DDF;&#x7740;underscore&#x5B66;&#x9632;&#x6296;</p>
<h2 id="&#x51FD;&#x6570;&#x8282;&#x6D41;">&#x51FD;&#x6570;&#x8282;&#x6D41;</h2>
<p>&#x89E6;&#x53D1;&#x9AD8;&#x9891;&#x4E8B;&#x4EF6;&#xFF0C;&#x4E14; N &#x79D2;&#x5185;&#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x3002;</p>
<p>&#x7B80;&#x5355;&#x7248;&#xFF1A;&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x6233;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x7136;&#x540E;&#x6BCF; N &#x79D2;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x3002;</p>
<pre><code>function throttle(func, wait) {  
    var context, args;  
    var previous = 0;  

    return function() {  
        var now = +new Date();  
        context = this;  
        args = arguments;  
        if (now - previous &gt; wait) {  
            func.apply(context, args);  
            previous = now;  
        }  
    }  
}
</code></pre><p>&#x6700;&#x7EC8;&#x7248;&#xFF1A;&#x652F;&#x6301;&#x53D6;&#x6D88;&#x8282;&#x6D41;&#xFF1B;&#x53E6;&#x5916;&#x901A;&#x8FC7;&#x4F20;&#x5165;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;options.leading &#x6765;&#x8868;&#x793A;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;opitons.trailing &#x8868;&#x793A;&#x7ED3;&#x675F;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#x662F;&#x5426;&#x8FD8;&#x8981;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x9ED8;&#x8BA4;&#x90FD;&#x662F; true&#x3002;&#x6CE8;&#x610F;&#x8BBE;&#x7F6E;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x80FD;&#x540C;&#x65F6;&#x5C06; leading &#x6216; trailing &#x8BBE;&#x7F6E;&#x4E3A; false&#x3002;</p>
<pre><code>function throttle(func, wait, options) {  
    var timeout, context, args, result;  
    var previous = 0;  
    if (!options) options = {};  

    var later = function() {  
        previous = options.leading === false ? 0 : new Date().getTime();  
        timeout = null;  
        func.apply(context, args);  
        if (!timeout) context = args = null;  
    };  

    var throttled = function() {  
        var now = new Date().getTime();  
        if (!previous &amp;&amp; options.leading === false) previous = now;  
        var remaining = wait - (now - previous);  
        context = this;  
        args = arguments;  
        if (remaining &lt;= 0 || remaining &gt; wait) {  
            if (timeout) {  
                clearTimeout(timeout);  
                timeout = null;  
            }  
            previous = now;  
            func.apply(context, args);  
            if (!timeout) context = args = null;  
        } else if (!timeout &amp;&amp; options.trailing !== false) {  
            timeout = setTimeout(later, remaining);  
        }  
    };  

    throttled.cancel = function() {  
        clearTimeout(timeout);  
        previous = 0;  
        timeout = null;  
    }  
    return throttled;  
}
</code></pre><p>&#x8282;&#x6D41;&#x7684;&#x4F7F;&#x7528;&#x5C31;&#x4E0D;&#x62FF;&#x4EE3;&#x7801;&#x4E3E;&#x4F8B;&#x4E86;&#xFF0C;&#x53C2;&#x8003;&#x9632;&#x6296;&#x7684;&#x5199;&#x5C31;&#x884C;&#x3002;</p>
<p>&#x53C2;&#x8003;&#xFF1A;JavaScript&#x4E13;&#x9898;&#x4E4B;&#x8DDF;&#x7740; underscore &#x5B66;&#x8282;&#x6D41;</p>
<h2 id="&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316;">&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316;</h2>
<p>&#x4EC0;&#x4E48;&#x53EB;&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316;&#xFF1F;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5C06;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x8F6C;&#x6362;&#x6210;&#x4E00;&#x7CFB;&#x5217;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x7684;&#x6280;&#x672F;&#x3002;&#x8FD8;&#x4E0D;&#x61C2;&#xFF1F;&#x6765;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#x3002;</p>
<pre><code>function add(a, b, c) {  
    return a + b + c  
}  
add(1, 2, 3)  
let addCurry = curry(add)  
addCurry(1)(2)(3)
</code></pre><p>&#x73B0;&#x5728;&#x5C31;&#x662F;&#x8981;&#x5B9E;&#x73B0; curry &#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x4F7F;&#x51FD;&#x6570;&#x4ECE;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x4F20;&#x5165;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x53D8;&#x6210;&#x591A;&#x6B21;&#x8C03;&#x7528;&#x6BCF;&#x6B21;&#x4F20;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x3002;</p>
<pre><code>function curry(fn) {  
    let judge = (...args) =&gt; {  
        if (args.length == fn.length) return fn(...args)  
        return (...arg) =&gt; judge(...args, ...arg)  
    }  
    return judge  
}
</code></pre><h2 id="&#x504F;&#x51FD;&#x6570;">&#x504F;&#x51FD;&#x6570;</h2>
<p>&#x4EC0;&#x4E48;&#x662F;&#x504F;&#x51FD;&#x6570;&#xFF1F;&#x504F;&#x51FD;&#x6570;&#x5C31;&#x662F;&#x5C06;&#x4E00;&#x4E2A; n &#x53C2;&#x7684;&#x51FD;&#x6570;&#x8F6C;&#x6362;&#x6210;&#x56FA;&#x5B9A; x &#x53C2;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x5269;&#x4F59;&#x53C2;&#x6570;&#xFF08;n - x&#xFF09;&#x5C06;&#x5728;&#x4E0B;&#x6B21;&#x8C03;&#x7528;&#x5168;&#x90E8;&#x4F20;&#x5165;&#x3002;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code>function add(a, b, c) {  
    return a + b + c  
}  
let partialAdd = partial(add, 1)  
partialAdd(2, 3)
</code></pre><p>&#x53D1;&#x73B0;&#x6CA1;&#x6709;&#xFF0C;&#x5176;&#x5B9E;&#x504F;&#x51FD;&#x6570;&#x548C;&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316;&#x6709;&#x70B9;&#x50CF;&#xFF0C;&#x6240;&#x4EE5;&#x6839;&#x636E;&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x80FD;&#x591F;&#x80FD;&#x5F88;&#x5FEB;&#x5199;&#x51FA;&#x504F;&#x51FD;&#x6570;&#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre><code>function partial(fn, ...args) {  
    return (...arg) =&gt; {  
        return fn(...args, ...arg)  
    }  
}
</code></pre><p>&#x5982;&#x4E0A;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x504F;&#x51FD;&#x6570;&#x80FD;&#x548C;&#x67EF;&#x91CC;&#x5316;&#x4E00;&#x6837;&#x80FD;&#x5B9E;&#x73B0;&#x5360;&#x4F4D;&#x529F;&#x80FD;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;</p>
<pre><code>function clg(a, b, c) {  
    console.log(a, b, c)  
}  
let partialClg = partial(clg, &apos;_&apos;, 2)  
partialClg(1, 3)  // &#x4F9D;&#x6B21;&#x6253;&#x5370;&#xFF1A;1, 2, 3
</code></pre><p><code>_</code> &#x5360;&#x7684;&#x4F4D;&#x5176;&#x5B9E;&#x5C31;&#x662F; 1 &#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x76F8;&#x5F53;&#x4E8E;&#xFF1A;partial(clg, 1, 2)&#xFF0C;&#x7136;&#x540E; partialClg(3)&#x3002;&#x660E;&#x767D;&#x4E86;&#x539F;&#x7406;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x5199;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre><code>function partial(fn, ...args) {  
    return (...arg) =&gt; {  
        args[index] =   
        return fn(...args, ...arg)  
    }  
}
</code></pre><h2 id="jsonp">JSONP</h2>
<p>JSONP &#x6838;&#x5FC3;&#x539F;&#x7406;&#xFF1A;script &#x6807;&#x7B7E;&#x4E0D;&#x53D7;&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7EA6;&#x675F;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;&#xFF0C;&#x4F18;&#x70B9;&#x662F;&#x517C;&#x5BB9;&#x6027;&#x597D;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x80FD;&#x7528;&#x4E8E; GET &#x8BF7;&#x6C42;&#xFF1B;</p>
<pre><code>const jsonp = ({ url, params, callbackName }) =&gt; {  
    const generateUrl = () =&gt; {  
        let dataSrc = &apos;&apos;  
        for (let key in params) {  
            if (params.hasOwnProperty(key)) {  
                dataSrc += `${key}=${params[key]}&amp;`  
            }  
        }  
        dataSrc += `callback=${callbackName}`  
        return `${url}?${dataSrc}`  
    }  
    return new Promise((resolve, reject) =&gt; {  
        const scriptEle = document.createElement(&apos;script&apos;)  
        scriptEle.src = generateUrl()  
        document.body.appendChild(scriptEle)  
        window[callbackName] = data =&gt; {  
            resolve(data)  
            document.removeChild(scriptEle)  
        }  
    })  
}
</code></pre><h2 id="ajax">AJAX</h2>
<pre><code>const getJSON = function(url) {  
    return new Promise((resolve, reject) =&gt; {  
        const xhr = XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(&apos;Mscrosoft.XMLHttp&apos;);  
        xhr.open(&apos;GET&apos;, url, false);  
        xhr.setRequestHeader(&apos;Accept&apos;, &apos;application/json&apos;);  
        xhr.onreadystatechange = function() {  
            if (xhr.readyState !== 4) return;  
            if (xhr.status === 200 || xhr.status === 304) {  
                resolve(xhr.responseText);  
            } else {  
                reject(new Error(xhr.responseText));  
            }  
        }  
        xhr.send();  
    })  
}
</code></pre><h2 id="&#x5B9E;&#x73B0;&#x6570;&#x7EC4;&#x539F;&#x578B;&#x65B9;&#x6CD5;">&#x5B9E;&#x73B0;&#x6570;&#x7EC4;&#x539F;&#x578B;&#x65B9;&#x6CD5;</h2>
<h3 id="foreach">forEach</h3>
<pre><code>Array.prototype.forEach2 = function(callback, thisArg) {  
    if (this == null) {  
        throw new TypeError(&apos;this is null or not defined&apos;)  
    }  
    if (typeof callback !== &quot;function&quot;) {  
        throw new TypeError(callback + &apos; is not a function&apos;)  
    }  
    const O = Object(this)  // this &#x5C31;&#x662F;&#x5F53;&#x524D;&#x7684;&#x6570;&#x7EC4;  
    const len = O.length &gt;&gt;&gt; 0  // &#x540E;&#x9762;&#x6709;&#x89E3;&#x91CA;  
    let k = 0  
    while (k &lt; len) {  
        if (k in O) {  
            callback.call(thisArg, O[k], k, O);  
        }  
        k++;  
    }  
}
</code></pre><p>&#x53C2;&#x8003;&#xFF1A;forEach#polyfill[2]</p>
<p>O.length &gt;&gt;&gt; 0 &#x662F;&#x4EC0;&#x4E48;&#x64CD;&#x4F5C;&#xFF1F;&#x5C31;&#x662F;&#x65E0;&#x7B26;&#x53F7;&#x53F3;&#x79FB; 0 &#x4F4D;&#xFF0C;&#x90A3;&#x6709;&#x4EC0;&#x4E48;&#x610F;&#x4E49;&#x561B;&#xFF1F;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x8F6C;&#x6362;&#x540E;&#x7684;&#x503C;&#x4E3A;&#x6B63;&#x6574;&#x6570;&#x3002;&#x5176;&#x5B9E;&#x5E95;&#x5C42;&#x505A;&#x4E86; 2 &#x5C42;&#x8F6C;&#x6362;&#xFF0C;&#x7B2C;&#x4E00;&#x662F;&#x975E; number &#x8F6C;&#x6210; number &#x7C7B;&#x578B;&#xFF0C;&#x7B2C;&#x4E8C;&#x662F;&#x5C06; number &#x8F6C;&#x6210; Uint32 &#x7C7B;&#x578B;&#x3002;&#x611F;&#x5174;&#x8DA3;&#x53EF;&#x4EE5;&#x9605;&#x8BFB; something &gt;&gt;&gt; 0&#x662F;&#x4EC0;&#x4E48;&#x610F;&#x601D;?[3]&#x3002;</p>
<h3 id="map">map</h3>
<p>&#x57FA;&#x4E8E; forEach &#x7684;&#x5B9E;&#x73B0;&#x80FD;&#x591F;&#x5F88;&#x5BB9;&#x6613;&#x5199;&#x51FA; map &#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre><code>- Array.prototype.forEach2 = function(callback, thisArg) {  
+ Array.prototype.map2 = function(callback, thisArg) {  
    if (this == null) {  
        throw new TypeError(&apos;this is null or not defined&apos;)  
    }  
    if (typeof callback !== &quot;function&quot;) {  
        throw new TypeError(callback + &apos; is not a function&apos;)  
    }  
    const O = Object(this)  
    const len = O.length &gt;&gt;&gt; 0  
-   let k = 0  
+   let k = 0, res = []  
    while (k &lt; len) {  
        if (k in O) {  
-           callback.call(thisArg, O[k], k, O);  
+           res[k] = callback.call(thisArg, O[k], k, O);  
        }  
        k++;  
    }  
+   return res  
}
</code></pre><h3 id="filter">filter</h3>
<p>&#x540C;&#x6837;&#xFF0C;&#x57FA;&#x4E8E; forEach &#x7684;&#x5B9E;&#x73B0;&#x80FD;&#x591F;&#x5F88;&#x5BB9;&#x6613;&#x5199;&#x51FA; filter &#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre><code>- Array.prototype.forEach2 = function(callback, thisArg) {  
+ Array.prototype.filter2 = function(callback, thisArg) {  
    if (this == null) {  
        throw new TypeError(&apos;this is null or not defined&apos;)  
    }  
    if (typeof callback !== &quot;function&quot;) {  
        throw new TypeError(callback + &apos; is not a function&apos;)  
    }  
    const O = Object(this)  
    const len = O.length &gt;&gt;&gt; 0  
-   let k = 0  
+   let k = 0, res = []  
    while (k &lt; len) {  
        if (k in O) {  
-           callback.call(thisArg, O[k], k, O);  
+           if (callback.call(thisArg, O[k], k, O)) {  
+               res.push(O[k])                  
+           }  
        }  
        k++;  
    }  
+   return res  
}
</code></pre><h3 id="some">some</h3>
<p>&#x540C;&#x6837;&#xFF0C;&#x57FA;&#x4E8E; forEach &#x7684;&#x5B9E;&#x73B0;&#x80FD;&#x591F;&#x5F88;&#x5BB9;&#x6613;&#x5199;&#x51FA; some &#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre><code>- Array.prototype.forEach2 = function(callback, thisArg) {  
+ Array.prototype.some2 = function(callback, thisArg) {  
    if (this == null) {  
        throw new TypeError(&apos;this is null or not defined&apos;)  
    }  
    if (typeof callback !== &quot;function&quot;) {  
        throw new TypeError(callback + &apos; is not a function&apos;)  
    }  
    const O = Object(this)  
    const len = O.length &gt;&gt;&gt; 0  
    let k = 0  
    while (k &lt; len) {  
        if (k in O) {  
-           callback.call(thisArg, O[k], k, O);  
+           if (callback.call(thisArg, O[k], k, O)) {  
+               return true  
+           }  
        }  
        k++;  
    }  
+   return false  
}
</code></pre><h3 id="reduce">reduce</h3>
<pre><code>Array.prototype.reduce2 = function(callback, initialValue) {  
    if (this == null) {  
        throw new TypeError(&apos;this is null or not defined&apos;)  
    }  
    if (typeof callback !== &quot;function&quot;) {  
        throw new TypeError(callback + &apos; is not a function&apos;)  
    }  
    const O = Object(this)  
    const len = O.length &gt;&gt;&gt; 0  
    let k = 0, acc  

    if (arguments.length &gt; 1) {  
        acc = initialValue  
    } else {  
        // &#x6CA1;&#x4F20;&#x5165;&#x521D;&#x59CB;&#x503C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53D6;&#x6570;&#x7EC4;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A;&#x975E; empty &#x7684;&#x503C;&#x4E3A;&#x521D;&#x59CB;&#x503C;  
        while (k &lt; len &amp;&amp; !(k in O)) {  
            k++  
        }  
        if (k &gt; len) {  
            throw new TypeError( &apos;Reduce of empty array with no initial value&apos; );  
        }  
        acc = O[k++]  
    }  
    while (k &lt; len) {  
        if (k in O) {  
            acc = callback(acc, O[k], k, O)  
        }  
        k++  
    }  
    return acc  
}
</code></pre><h2 id="&#x5B9E;&#x73B0;&#x51FD;&#x6570;&#x539F;&#x578B;&#x65B9;&#x6CD5;">&#x5B9E;&#x73B0;&#x51FD;&#x6570;&#x539F;&#x578B;&#x65B9;&#x6CD5;</h2>
<h3 id="call">call</h3>
<p>&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x7684; this &#x503C;&#x548C;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x6765;&#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x5B9E;&#x73B0;&#x8981;&#x70B9;&#xFF1A;</p>
<ul>
<li><p>this &#x53EF;&#x80FD;&#x4F20;&#x5165; null&#xFF1B;</p>
</li>
<li><p>&#x4F20;&#x5165;&#x4E0D;&#x56FA;&#x5B9A;&#x4E2A;&#x6570;&#x7684;&#x53C2;&#x6570;&#xFF1B;</p>
</li>
<li><p>&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x6709;&#x8FD4;&#x56DE;&#x503C;&#xFF1B;</p>
</li>
</ul>
<pre><code>Function.prototype.call2 = function (context) {  
    var context = context || window;  
    context.fn = this;  

    var args = [];  
    for(var i = 1, len = arguments.length; i &lt; len; i++) {  
        args.push(&apos;arguments[&apos; + i + &apos;]&apos;);  
    }  

    var result = eval(&apos;context.fn(&apos; + args +&apos;)&apos;);  

    delete context.fn  
    return result;  
}
</code></pre><h3 id="apply">apply</h3>
<p>apply &#x548C; call &#x4E00;&#x6837;&#xFF0C;&#x552F;&#x4E00;&#x7684;&#x533A;&#x522B;&#x5C31;&#x662F; call &#x662F;&#x4F20;&#x5165;&#x4E0D;&#x56FA;&#x5B9A;&#x4E2A;&#x6570;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x800C; apply &#x662F;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x3002;</p>
<p>&#x5B9E;&#x73B0;&#x8981;&#x70B9;&#xFF1A;</p>
<ul>
<li><p>this &#x53EF;&#x80FD;&#x4F20;&#x5165; null&#xFF1B;</p>
</li>
<li><p>&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF1B;</p>
</li>
<li><p>&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x6709;&#x8FD4;&#x56DE;&#x503C;&#xFF1B;</p>
</li>
</ul>
<pre><code>Function.prototype.apply2 = function (context, arr) {  
    var context = context || window;  
    context.fn = this;  

    var result;  
    if (!arr) {  
        result = context.fn();  
    } else {  
        var args = [];  
        for (var i = 0, len = arr.length; i &lt; len; i++) {  
            args.push(&apos;arr[&apos; + i + &apos;]&apos;);  
        }  
        result = eval(&apos;context.fn(&apos; + args + &apos;)&apos;)  
    }  

    delete context.fn  
    return result;  
}
</code></pre><h3 id="bind">bind</h3>
<p>bind &#x65B9;&#x6CD5;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x5728; bind() &#x88AB;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B0;&#x51FD;&#x6570;&#x7684; this &#x88AB;&#x6307;&#x5B9A;&#x4E3A; bind() &#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x800C;&#x5176;&#x4F59;&#x53C2;&#x6570;&#x5C06;&#x4F5C;&#x4E3A;&#x65B0;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x4F9B;&#x8C03;&#x7528;&#x65F6;&#x4F7F;&#x7528;&#x3002;</p>
<p>&#x5B9E;&#x73B0;&#x8981;&#x70B9;&#xFF1A;</p>
<ul>
<li><p>bind() &#x9664;&#x4E86; this &#x5916;&#xFF0C;&#x8FD8;&#x53EF;&#x4F20;&#x5165;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#xFF1B;</p>
</li>
<li><p>bing &#x521B;&#x5EFA;&#x7684;&#x65B0;&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x4F20;&#x5165;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#xFF1B;</p>
</li>
<li><p>&#x65B0;&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x88AB;&#x5F53;&#x505A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x8C03;&#x7528;&#xFF1B;</p>
</li>
<li><p>&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x6709;&#x8FD4;&#x56DE;&#x503C;&#xFF1B;</p>
</li>
</ul>
<pre><code>Function.prototype.bind2 = function (context) {  
    var self = this;  
    var args = Array.prototype.slice.call(arguments, 1);  

    var fNOP = function () {};  

    var fBound = function () {  
        var bindArgs = Array.prototype.slice.call(arguments);  
        return self.apply(this instanceof fNOP ? this : context, args.concat(bindArgs));  
    }  

    fNOP.prototype = this.prototype;  
    fBound.prototype = new fNOP();  
    return fBound;  
}
</code></pre><h2 id="&#x5B9E;&#x73B0;-new-&#x5173;&#x952E;&#x5B57;">&#x5B9E;&#x73B0; new &#x5173;&#x952E;&#x5B57;</h2>
<p>new &#x8FD0;&#x7B97;&#x7B26;&#x7528;&#x6765;&#x521B;&#x5EFA;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;&#x7684;&#x5B9E;&#x4F8B;&#x6216;&#x8005;&#x5177;&#x6709;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x5185;&#x7F6E;&#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x4F8B;&#x3002;</p>
<p>&#x5B9E;&#x73B0;&#x8981;&#x70B9;&#xFF1A;</p>
<ul>
<li><p>new &#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x5BF9;&#x8C61;&#xFF1B;</p>
</li>
<li><p>&#x65B0;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5230;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x6307;&#x5B9A;&#x5B83;&#x7684;&#x539F;&#x578B;&#xFF1B;</p>
</li>
<li><p>&#x6784;&#x9020;&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x4F1A;&#x663E;&#x793A;&#x8FD4;&#x56DE;&#xFF1B;</p>
</li>
</ul>
<pre><code>function objectFactory() {  
    var obj = new Object()  
    Constructor = [].shift.call(arguments);  
    obj.__proto__ = Constructor.prototype;  
    var ret = Constructor.apply(obj, arguments);  

    // ret || obj &#x8FD9;&#x91CC;&#x8FD9;&#x4E48;&#x5199;&#x8003;&#x8651;&#x4E86;&#x6784;&#x9020;&#x51FD;&#x6570;&#x663E;&#x793A;&#x8FD4;&#x56DE; null &#x7684;&#x60C5;&#x51B5;  
    return typeof ret === &apos;object&apos; ? ret || obj : obj;  
};
</code></pre><p>&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>function person(name, age) {  
    this.name = name  
    this.age = age  
}  
let p = objectFactory(person, &apos;&#x5E03;&#x5170;&apos;, 12)  
console.log(p)  // { name: &apos;&#x5E03;&#x5170;&apos;, age: 12 }
</code></pre><h2 id="&#x5B9E;&#x73B0;-instanceof-&#x5173;&#x952E;&#x5B57;">&#x5B9E;&#x73B0; instanceof &#x5173;&#x952E;&#x5B57;</h2>
<p>instanceof &#x5C31;&#x662F;&#x5224;&#x65AD;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684; prototype &#x5C5E;&#x6027;&#x662F;&#x5426;&#x51FA;&#x73B0;&#x5728;&#x5B9E;&#x4F8B;&#x7684;&#x539F;&#x578B;&#x94FE;&#x4E0A;&#x3002;</p>
<pre><code>function instanceOf(left, right) {  
    let proto = left.__proto__  
    while (true) {  
        if (proto === null) return false  
        if (proto === right.prototype) {  
            return true  
        }  
        proto = proto.__proto__  
    }  
}
</code></pre><p>&#x4E0A;&#x9762;&#x7684; left.<strong>proto</strong> &#x8FD9;&#x79CD;&#x5199;&#x6CD5;&#x53EF;&#x4EE5;&#x6362;&#x6210; Object.getPrototypeOf(left)&#x3002;</p>
<h2 id="&#x5B9E;&#x73B0;-objectcreate">&#x5B9E;&#x73B0; Object.create</h2>
<p>Object.create()&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x5BF9;&#x8C61;&#xFF0C;&#x4F7F;&#x7528;&#x73B0;&#x6709;&#x7684;&#x5BF9;&#x8C61;&#x6765;&#x63D0;&#x4F9B;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#x7684;<strong>proto</strong>&#x3002;</p>
<pre><code>Object.create2 = function(proto, propertyObject = undefined) {  
    if (typeof proto !== &apos;object&apos; &amp;&amp; typeof proto !== &apos;function&apos;) {  
        throw new TypeError(&apos;Object prototype may only be an Object or null.&apos;)  
    if (propertyObject == null) {  
        new TypeError(&apos;Cannot convert undefined or null to object&apos;)  
    }  
    function F() {}  
    F.prototype = proto  
    const obj = new F()  
    if (propertyObject != undefined) {  
        Object.defineProperties(obj, propertyObject)  
    }  
    if (proto === null) {  
        // &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;Object.create(null)  
        obj.__proto__ = null  
    }  
    return obj  
}
</code></pre><h2 id="&#x5B9E;&#x73B0;-objectassign">&#x5B9E;&#x73B0; Object.assign</h2>
<pre><code>Object.assign2 = function(target, ...source) {  
    if (target == null) {  
        throw new TypeError(&apos;Cannot convert undefined or null to object&apos;)  
    }  
    let ret = Object(target)   
    source.forEach(function(obj) {  
        if (obj != null) {  
            for (let key in obj) {  
                if (obj.hasOwnProperty(key)) {  
                    ret[key] = obj[key]  
                }  
            }  
        }  
    })  
    return ret  
}
</code></pre><h2 id="&#x5B9E;&#x73B0;-jsonstringify">&#x5B9E;&#x73B0; JSON.stringify</h2>
<p>JSON.stringify([, replacer [, space]) &#x65B9;&#x6CD5;&#x662F;&#x5C06;&#x4E00;&#x4E2A; JavaScript &#x503C;(&#x5BF9;&#x8C61;&#x6216;&#x8005;&#x6570;&#x7EC4;)&#x8F6C;&#x6362;&#x4E3A;&#x4E00;&#x4E2A; JSON &#x5B57;&#x7B26;&#x4E32;&#x3002;&#x6B64;&#x5904;&#x6A21;&#x62DF;&#x5B9E;&#x73B0;&#xFF0C;&#x4E0D;&#x8003;&#x8651;&#x53EF;&#x9009;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570; replacer &#x548C;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570; space&#xFF0C;&#x5982;&#x679C;&#x5BF9;&#x8FD9;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x4F5C;&#x7528;&#x8FD8;&#x4E0D;&#x4E86;&#x89E3;&#xFF0C;&#x5EFA;&#x8BAE;&#x9605;&#x8BFB; MDN[4] &#x6587;&#x6863;&#x3002;</p>
<ol>
<li>&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1A;</li>
</ol>
<ul>
<li><p>undefined &#x8F6C;&#x6362;&#x4E4B;&#x540E;&#x4ECD;&#x662F; undefined(&#x7C7B;&#x578B;&#x4E5F;&#x662F; undefined)</p>
</li>
<li><p>boolean &#x503C;&#x8F6C;&#x6362;&#x4E4B;&#x540E;&#x662F;&#x5B57;&#x7B26;&#x4E32; &quot;false&quot;/&quot;true&quot;</p>
</li>
<li><p>number &#x7C7B;&#x578B;(&#x9664;&#x4E86; NaN &#x548C; Infinity)&#x8F6C;&#x6362;&#x4E4B;&#x540E;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x503C;</p>
</li>
<li><p>symbol &#x8F6C;&#x6362;&#x4E4B;&#x540E;&#x662F; undefined</p>
</li>
<li><p>null &#x8F6C;&#x6362;&#x4E4B;&#x540E;&#x662F;&#x5B57;&#x7B26;&#x4E32; &quot;null&quot;</p>
</li>
<li><p>string &#x8F6C;&#x6362;&#x4E4B;&#x540E;&#x4ECD;&#x662F;string</p>
</li>
<li><p>NaN &#x548C; Infinity &#x8F6C;&#x6362;&#x4E4B;&#x540E;&#x662F;&#x5B57;&#x7B26;&#x4E32; &quot;null&quot;</p>
</li>
</ul>
<ol>
<li><p>&#x51FD;&#x6570;&#x7C7B;&#x578B;&#xFF1A;&#x8F6C;&#x6362;&#x4E4B;&#x540E;&#x662F; undefined</p>
</li>
<li><p>&#x5982;&#x679C;&#x662F;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;(&#x975E;&#x51FD;&#x6570;)</p>
</li>
</ol>
<ul>
<li><p>&#x5982;&#x679C;&#x6709; toJSON() &#x65B9;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;&#x5E8F;&#x5217;&#x5316; toJSON() &#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;</p>
</li>
<li><p>&#x5982;&#x679C;&#x5C5E;&#x6027;&#x503C;&#x4E2D;&#x51FA;&#x73B0;&#x4E86; undefined&#x3001;&#x4EFB;&#x610F;&#x7684;&#x51FD;&#x6570;&#x4EE5;&#x53CA; symbol &#x503C;&#xFF0C;&#x5FFD;&#x7565;&#x3002;</p>
</li>
<li><p>&#x6240;&#x6709;&#x4EE5; symbol &#x4E3A;&#x5C5E;&#x6027;&#x952E;&#x7684;&#x5C5E;&#x6027;&#x90FD;&#x4F1A;&#x88AB;&#x5B8C;&#x5168;&#x5FFD;&#x7565;&#x6389;&#x3002;</p>
</li>
<li><p>&#x5982;&#x679C;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF1A;&#x5982;&#x679C;&#x5C5E;&#x6027;&#x503C;&#x4E2D;&#x51FA;&#x73B0;&#x4E86; undefined&#x3001;&#x4EFB;&#x610F;&#x7684;&#x51FD;&#x6570;&#x4EE5;&#x53CA; symbol&#xFF0C;&#x8F6C;&#x6362;&#x6210;&#x5B57;&#x7B26;&#x4E32; &quot;null&quot; &#xFF1B;</p>
</li>
<li><p>&#x5982;&#x679C;&#x662F; RegExp &#x5BF9;&#x8C61;&#xFF1A;&#x8FD4;&#x56DE; {} (&#x7C7B;&#x578B;&#x662F; string)&#xFF1B;</p>
</li>
<li><p>&#x5982;&#x679C;&#x662F; Date &#x5BF9;&#x8C61;&#xFF0C;&#x8FD4;&#x56DE; Date &#x7684; toJSON &#x5B57;&#x7B26;&#x4E32;&#x503C;&#xFF1B;</p>
</li>
<li><p>&#x5982;&#x679C;&#x662F;&#x666E;&#x901A;&#x5BF9;&#x8C61;&#xFF1B;</p>
</li>
</ul>
<ol>
<li>&#x5BF9;&#x5305;&#x542B;&#x5FAA;&#x73AF;&#x5F15;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#xFF08;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x76F8;&#x4E92;&#x5F15;&#x7528;&#xFF0C;&#x5F62;&#x6210;&#x65E0;&#x9650;&#x5FAA;&#x73AF;&#xFF09;&#x6267;&#x884C;&#x6B64;&#x65B9;&#x6CD5;&#xFF0C;&#x4F1A;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x3002;</li>
</ol>
<pre><code>function jsonStringify(data) {  
    let dataType = typeof data;  

    if (dataType !== &apos;object&apos;) {  
        let result = data;  
        //data &#x53EF;&#x80FD;&#x662F; string/number/null/undefined/boolean  
        if (Number.isNaN(data) || data === Infinity) {  
            //NaN &#x548C; Infinity &#x5E8F;&#x5217;&#x5316;&#x8FD4;&#x56DE; &quot;null&quot;  
            result = &quot;null&quot;;  
        } else if (dataType === &apos;function&apos; || dataType === &apos;undefined&apos; || dataType === &apos;symbol&apos;) {  
            //function &#x3001;undefined &#x3001;symbol &#x5E8F;&#x5217;&#x5316;&#x8FD4;&#x56DE; undefined  
            return undefined;  
        } else if (dataType === &apos;string&apos;) {  
            result = &apos;&quot;&apos; + data + &apos;&quot;&apos;;  
        }  
        //boolean &#x8FD4;&#x56DE; String()  
        return String(result);  
    } else if (dataType === &apos;object&apos;) {  
        if (data === null) {  
            return &quot;null&quot;  
        } else if (data.toJSON &amp;&amp; typeof data.toJSON === &apos;function&apos;) {  
            return jsonStringify(data.toJSON());  
        } else if (data instanceof Array) {  
            let result = [];  
            //&#x5982;&#x679C;&#x662F;&#x6570;&#x7EC4;  
            //toJSON &#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5B58;&#x5728;&#x4E8E;&#x539F;&#x578B;&#x94FE;&#x4E2D;  
            data.forEach((item, index) =&gt; {  
                if (typeof item === &apos;undefined&apos; || typeof item === &apos;function&apos; || typeof item === &apos;symbol&apos;) {  
                    result[index] = &quot;null&quot;;  
                } else {  
                    result[index] = jsonStringify(item);  
                }  
            });  
            result = &quot;[&quot; + result + &quot;]&quot;;  
            return result.replace(/&apos;/g, &apos;&quot;&apos;);  

        } else {  
            //&#x666E;&#x901A;&#x5BF9;&#x8C61;  
            /**  
             * &#x5FAA;&#x73AF;&#x5F15;&#x7528;&#x629B;&#x9519;(&#x6682;&#x672A;&#x68C0;&#x6D4B;&#xFF0C;&#x5FAA;&#x73AF;&#x5F15;&#x7528;&#x65F6;&#xFF0C;&#x5806;&#x6808;&#x6EA2;&#x51FA;)  
             * symbol key &#x5FFD;&#x7565;  
             * undefined&#x3001;&#x51FD;&#x6570;&#x3001;symbol &#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x88AB;&#x5FFD;&#x7565;  
             */  
            let result = [];  
            Object.keys(data).forEach((item, index) =&gt; {  
                if (typeof item !== &apos;symbol&apos;) {  
                    //key &#x5982;&#x679C;&#x662F;symbol&#x5BF9;&#x8C61;&#xFF0C;&#x5FFD;&#x7565;  
                    if (data[item] !== undefined &amp;&amp; typeof data[item] !== &apos;function&apos;  
                        &amp;&amp; typeof data[item] !== &apos;symbol&apos;) {  
                        //&#x952E;&#x503C;&#x5982;&#x679C;&#x662F; undefined&#x3001;&#x51FD;&#x6570;&#x3001;symbol &#x4E3A;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x5FFD;&#x7565;  
                        result.push(&apos;&quot;&apos; + item + &apos;&quot;&apos; + &quot;:&quot; + jsonStringify(data[item]));  
                    }  
                }  
            });  
            return (&quot;{&quot; + result + &quot;}&quot;).replace(/&apos;/g, &apos;&quot;&apos;);  
        }  
    }  
}
</code></pre><p>&#x53C2;&#x8003;&#xFF1A;&#x5B9E;&#x73B0; JSON.stringify[5]</p>
<h2 id="&#x5B9E;&#x73B0;-jsonparse">&#x5B9E;&#x73B0; JSON.parse</h2>
<p>&#x4ECB;&#x7ECD; 2 &#x79CD;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#xFF1A;</p>
<ul>
<li><p>eval &#x5B9E;&#x73B0;&#xFF1B;</p>
</li>
<li><p>new Function &#x5B9E;&#x73B0;&#xFF1B;</p>
</li>
</ul>
<h3 id="eval-&#x5B9E;&#x73B0;">eval &#x5B9E;&#x73B0;</h3>
<p>&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x6700;&#x7B80;&#x5355;&#xFF0C;&#x4E5F;&#x6700;&#x76F4;&#x89C2;&#xFF0C;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x8C03;&#x7528; eval&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>var json = &apos;{&quot;a&quot;:&quot;1&quot;, &quot;b&quot;:2}&apos;;  
var obj = eval(&quot;(&quot; + json + &quot;)&quot;);  // obj &#x5C31;&#x662F; json &#x53CD;&#x5E8F;&#x5217;&#x5316;&#x4E4B;&#x540E;&#x5F97;&#x5230;&#x7684;&#x5BF9;&#x8C61;
</code></pre><p>&#x4F46;&#x662F;&#x76F4;&#x63A5;&#x8C03;&#x7528; eval &#x4F1A;&#x5B58;&#x5728;&#x5B89;&#x5168;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x6570;&#x636E;&#x4E2D;&#x53EF;&#x80FD;&#x4E0D;&#x662F; json &#x6570;&#x636E;&#xFF0C;&#x800C;&#x662F;&#x53EF;&#x6267;&#x884C;&#x7684; JavaScript &#x4EE3;&#x7801;&#xFF0C;&#x90A3;&#x5F88;&#x53EF;&#x80FD;&#x4F1A;&#x9020;&#x6210; XSS &#x653B;&#x51FB;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5728;&#x8C03;&#x7528; eval &#x4E4B;&#x524D;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6821;&#x9A8C;&#x3002;</p>
<pre><code>var rx_one = /^[\],:{}\s]*$/;  
var rx_two = /\\(?:[&quot;\\\/bfnrt]|u[0-9a-fA-F]{4})/g;  
var rx_three = /&quot;[^&quot;\\\n\r]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;  
var rx_four = /(?:^|:|,)(?:\s*\[)+/g;  

if (  
    rx_one.test(  
        json.replace(rx_two, &quot;@&quot;)  
            .replace(rx_three, &quot;]&quot;)  
            .replace(rx_four, &quot;&quot;)  
    )  
) {  
    var obj = eval(&quot;(&quot; +json + &quot;)&quot;);  
}
</code></pre><p>&#x53C2;&#x8003;&#xFF1A;JSON.parse &#x4E09;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;[6]</p>
<h3 id="new-function-&#x5B9E;&#x73B0;">new Function &#x5B9E;&#x73B0;</h3>
<p>Function &#x4E0E; eval &#x6709;&#x76F8;&#x540C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x7279;&#x6027;&#x3002;</p>
<pre><code>var json = &apos;{&quot;name&quot;:&quot;&#x5C0F;&#x59D0;&#x59D0;&quot;, &quot;age&quot;:20}&apos;;  
var obj = (new Function(&apos;return &apos; + json))();
</code></pre><h2 id="&#x5B9E;&#x73B0;-promise">&#x5B9E;&#x73B0; Promise</h2>
<p>&#x5B9E;&#x73B0; Promise &#x9700;&#x8981;&#x5B8C;&#x5168;&#x8BFB;&#x61C2; Promise A+ &#x89C4;&#x8303;[7]&#xFF0C;&#x4E0D;&#x8FC7;&#x4ECE;&#x603B;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x4E0A;&#x770B;&#xFF0C;&#x6709;&#x5982;&#x4E0B;&#x51E0;&#x4E2A;&#x70B9;&#x9700;&#x8981;&#x8003;&#x8651;&#x5230;&#xFF1A;</p>
<ul>
<li><p>then &#x9700;&#x8981;&#x652F;&#x6301;&#x94FE;&#x5F0F;&#x8C03;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x5F97;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684; Promise&#xFF1B;</p>
</li>
<li><p>&#x5904;&#x7406;&#x5F02;&#x6B65;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x5F97;&#x5148;&#x7528; onResolvedCallbacks &#x548C; onRejectedCallbacks &#x5206;&#x522B;&#x628A;&#x6210;&#x529F;&#x548C;&#x5931;&#x8D25;&#x7684;&#x56DE;&#x8C03;&#x5B58;&#x8D77;&#x6765;&#xFF1B;</p>
</li>
<li><p>&#x4E3A;&#x4E86;&#x8BA9;&#x94FE;&#x5F0F;&#x8C03;&#x7528;&#x6B63;&#x5E38;&#x8FDB;&#x884C;&#x4E0B;&#x53BB;&#xFF0C;&#x9700;&#x8981;&#x5224;&#x65AD; onFulfilled &#x548C; onRejected &#x7684;&#x7C7B;&#x578B;&#xFF1B;</p>
</li>
<li><p>onFulfilled &#x548C; onRejected &#x9700;&#x8981;&#x88AB;&#x5F02;&#x6B65;&#x8C03;&#x7528;&#xFF0C;&#x8FD9;&#x91CC;&#x7528; setTimeout &#x6A21;&#x62DF;&#x5F02;&#x6B65;&#xFF1B;</p>
</li>
<li><p>&#x5904;&#x7406; Promise &#x7684; resolve&#xFF1B;</p>
</li>
</ul>
<pre><code>const PENDING = &apos;pending&apos;;  
const FULFILLED = &apos;fulfilled&apos;;  
const REJECTED = &apos;rejected&apos;;  

class Promise {  
    constructor(executor) {  
        this.status = PENDING;  
        this.value = undefined;  
        this.reason = undefined;  
        this.onResolvedCallbacks = [];  
        this.onRejectedCallbacks = [];  

        let resolve = (value) = &gt; {  
            if (this.status === PENDING) {  
                this.status = FULFILLED;  
                this.value = value;  
                this.onResolvedCallbacks.forEach((fn) = &gt; fn());  
            }  
        };  

        let reject = (reason) = &gt; {  
            if (this.status === PENDING) {  
                this.status = REJECTED;  
                this.reason = reason;  
                this.onRejectedCallbacks.forEach((fn) = &gt; fn());  
            }  
        };  

        try {  
            executor(resolve, reject);  
        } catch (error) {  
            reject(error);  
        }  
    }  

    then(onFulfilled, onRejected) {  
        // &#x89E3;&#x51B3; onFufilled&#xFF0C;onRejected &#x6CA1;&#x6709;&#x4F20;&#x503C;&#x7684;&#x95EE;&#x9898;  
        onFulfilled = typeof onFulfilled === &quot;function&quot; ? onFulfilled : (v) = &gt; v;  
        // &#x56E0;&#x4E3A;&#x9519;&#x8BEF;&#x7684;&#x503C;&#x8981;&#x8BA9;&#x540E;&#x9762;&#x8BBF;&#x95EE;&#x5230;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x4E5F;&#x8981;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#xFF0C;&#x4E0D;&#x7136;&#x4F1A;&#x5728;&#x4E4B;&#x540E; then &#x7684; resolve &#x4E2D;&#x6355;&#x83B7;  
        onRejected = typeof onRejected === &quot;function&quot; ? onRejected : (err) = &gt; {  
            throw err;  
        };  
        // &#x6BCF;&#x6B21;&#x8C03;&#x7528; then &#x90FD;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684; promise  
        let promise2 = new Promise((resolve, reject) = &gt; {  
            if (this.status === FULFILLED) {  
                //Promise/A+ 2.2.4 --- setTimeout  
                setTimeout(() = &gt; {  
                    try {  
                        let x = onFulfilled(this.value);  
                        // x&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;proimise  
                        resolvePromise(promise2, x, resolve, reject);  
                    } catch (e) {  
                        reject(e);  
                    }  
                }, 0);  
            }  

            if (this.status === REJECTED) {  
                //Promise/A+ 2.2.3  
                setTimeout(() = &gt; {  
                    try {  
                        let x = onRejected(this.reason);  
                        resolvePromise(promise2, x, resolve, reject);  
                    } catch (e) {  
                        reject(e);  
                    }  
                }, 0);  
            }  

            if (this.status === PENDING) {  
                this.onResolvedCallbacks.push(() = &gt; {  
                    setTimeout(() = &gt; {  
                        try {  
                            let x = onFulfilled(this.value);  
                            resolvePromise(promise2, x, resolve, reject);  
                        } catch (e) {  
                            reject(e);  
                        }  
                    }, 0);  
                });  

                this.onRejectedCallbacks.push(() = &gt; {  
                    setTimeout(() = &gt; {  
                        try {  
                            let x = onRejected(this.reason);  
                            resolvePromise(promise2, x, resolve, reject);  
                        } catch (e) {  
                            reject(e);  
                        }  
                    }, 0);  
                });  
            }  
        });  

        return promise2;  
    }  
}  
const resolvePromise = (promise2, x, resolve, reject) = &gt; {  
    // &#x81EA;&#x5DF1;&#x7B49;&#x5F85;&#x81EA;&#x5DF1;&#x5B8C;&#x6210;&#x662F;&#x9519;&#x8BEF;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x7528;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x9519;&#x8BEF;&#xFF0C;&#x7ED3;&#x675F;&#x6389; promise  Promise/A+ 2.3.1  
    if (promise2 === x) {  
        return reject(  
            new TypeError(&quot;Chaining cycle detected for promise #&lt;Promise&gt;&quot;));  
    }  
    // Promise/A+ 2.3.3.3.3 &#x53EA;&#x80FD;&#x8C03;&#x7528;&#x4E00;&#x6B21;  
    let called;  
    // &#x540E;&#x7EED;&#x7684;&#x6761;&#x4EF6;&#x8981;&#x4E25;&#x683C;&#x5224;&#x65AD; &#x4FDD;&#x8BC1;&#x4EE3;&#x7801;&#x80FD;&#x548C;&#x522B;&#x7684;&#x5E93;&#x4E00;&#x8D77;&#x4F7F;&#x7528;  
    if ((typeof x === &quot;object&quot; &amp;&amp; x != null) || typeof x === &quot;function&quot;) {  
        try {  
            // &#x4E3A;&#x4E86;&#x5224;&#x65AD; resolve &#x8FC7;&#x7684;&#x5C31;&#x4E0D;&#x7528;&#x518D; reject &#x4E86;&#xFF08;&#x6BD4;&#x5982; reject &#x548C; resolve &#x540C;&#x65F6;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF09;  Promise/A+ 2.3.3.1  
            let then = x.then;  
            if (typeof then === &quot;function&quot;) {  
            // &#x4E0D;&#x8981;&#x5199;&#x6210; x.then&#xFF0C;&#x76F4;&#x63A5; then.call &#x5C31;&#x53EF;&#x4EE5;&#x4E86; &#x56E0;&#x4E3A; x.then &#x4F1A;&#x518D;&#x6B21;&#x53D6;&#x503C;&#xFF0C;Object.defineProperty  Promise/A+ 2.3.3.3  
                then.call(  
                    x, (y) = &gt; {  
                        // &#x6839;&#x636E; promise &#x7684;&#x72B6;&#x6001;&#x51B3;&#x5B9A;&#x662F;&#x6210;&#x529F;&#x8FD8;&#x662F;&#x5931;&#x8D25;  
                        if (called) return;  
                        called = true;  
                        // &#x9012;&#x5F52;&#x89E3;&#x6790;&#x7684;&#x8FC7;&#x7A0B;&#xFF08;&#x56E0;&#x4E3A;&#x53EF;&#x80FD; promise &#x4E2D;&#x8FD8;&#x6709; promise&#xFF09; Promise/A+ 2.3.3.3.1  
                        resolvePromise(promise2, y, resolve, reject);  
                    }, (r) = &gt; {  
                        // &#x53EA;&#x8981;&#x5931;&#x8D25;&#x5C31;&#x5931;&#x8D25; Promise/A+ 2.3.3.3.2  
                        if (called) return;  
                        called = true;  
                        reject(r);  
                    });  
            } else {  
                // &#x5982;&#x679C; x.then &#x662F;&#x4E2A;&#x666E;&#x901A;&#x503C;&#x5C31;&#x76F4;&#x63A5;&#x8FD4;&#x56DE; resolve &#x4F5C;&#x4E3A;&#x7ED3;&#x679C;  Promise/A+ 2.3.3.4  
                resolve(x);  
            }  
        } catch (e) {  
            // Promise/A+ 2.3.3.2  
            if (called) return;  
            called = true;  
            reject(e);  
        }  
    } else {  
        // &#x5982;&#x679C; x &#x662F;&#x4E2A;&#x666E;&#x901A;&#x503C;&#x5C31;&#x76F4;&#x63A5;&#x8FD4;&#x56DE; resolve &#x4F5C;&#x4E3A;&#x7ED3;&#x679C;  Promise/A+ 2.3.4  
        resolve(x);  
    }  
};
</code></pre><p>Promise &#x5199;&#x5B8C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; promises-aplus-tests &#x8FD9;&#x4E2A;&#x5305;&#x5BF9;&#x6211;&#x4EEC;&#x5199;&#x7684;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x770B;&#x662F;&#x5426;&#x7B26;&#x5408; A+ &#x89C4;&#x8303;&#x3002;&#x4E0D;&#x8FC7;&#x6D4B;&#x8BD5;&#x524D;&#x8FD8;&#x5F97;&#x52A0;&#x4E00;&#x6BB5;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code>// promise.js  
// &#x8FD9;&#x91CC;&#x662F;&#x4E0A;&#x9762;&#x5199;&#x7684; Promise &#x5168;&#x90E8;&#x4EE3;&#x7801;  
Promise.defer = Promise.deferred = function () {  
    let dfd = {}  
    dfd.promise = new Promise((resolve,reject)=&gt;{  
        dfd.resolve = resolve;  
        dfd.reject = reject;  
    });  
    return dfd;  
}  
module.exports = Promise;
</code></pre><p>&#x5168;&#x5C40;&#x5B89;&#x88C5;&#xFF1A;</p>
<pre><code>npm i promises-aplus-tests -g
</code></pre><p>&#x7EC8;&#x7AEF;&#x4E0B;&#x6267;&#x884C;&#x9A8C;&#x8BC1;&#x547D;&#x4EE4;&#xFF1A;</p>
<pre><code>promises-aplus-tests promise.js
</code></pre><p>&#x4E0A;&#x9762;&#x5199;&#x7684;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x987A;&#x5229;&#x901A;&#x8FC7;&#x5168;&#x90E8; 872 &#x4E2A;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x3002;</p>
<p>&#x53C2;&#x8003;&#xFF1A;</p>
<ul>
<li><p>BAT&#x524D;&#x7AEF;&#x7ECF;&#x5178;&#x9762;&#x8BD5;&#x95EE;&#x9898;&#xFF1A;&#x53F2;&#x4E0A;&#x6700;&#x6700;&#x6700;&#x8BE6;&#x7EC6;&#x7684;&#x624B;&#x5199;Promise&#x6559;&#x7A0B;[8]</p>
</li>
<li><p>100 &#x884C;&#x4EE3;&#x7801;&#x5B9E;&#x73B0; Promises/A+ &#x89C4;&#x8303;[9]</p>
</li>
</ul>
<h3 id="promiseresolve">Promise.resolve</h3>
<p>Promsie.resolve(value) &#x53EF;&#x4EE5;&#x5C06;&#x4EFB;&#x4F55;&#x503C;&#x8F6C;&#x6210;&#x503C;&#x4E3A; value &#x72B6;&#x6001;&#x662F; fulfilled &#x7684; Promise&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x4F20;&#x5165;&#x7684;&#x503C;&#x672C;&#x8EAB;&#x662F; Promise &#x5219;&#x4F1A;&#x539F;&#x6837;&#x8FD4;&#x56DE;&#x5B83;&#x3002;</p>
<pre><code>Promise.resolve = function(value) {  
    // &#x5982;&#x679C;&#x662F; Promsie&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x8F93;&#x51FA;&#x5B83;  
    if(value instanceof Promise){  
        return value  
    }  
    return new Promise(resolve =&gt; resolve(value))  
}
</code></pre><p>&#x53C2;&#x8003;&#xFF1A;&#x6DF1;&#x5165;&#x7406;&#x89E3; Promise[10]</p>
<h3 id="promisereject">Promise.reject</h3>
<p>&#x548C; Promise.resolve() &#x7C7B;&#x4F3C;&#xFF0C;Promise.reject() &#x4F1A;&#x5B9E;&#x4F8B;&#x5316;&#x4E00;&#x4E2A; rejected &#x72B6;&#x6001;&#x7684; Promise&#x3002;&#x4F46;&#x4E0E; Promise.resolve() &#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x7ED9; Promise.reject() &#x4F20;&#x9012;&#x4E00;&#x4E2A; Promise &#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x4F1A;&#x6210;&#x4E3A;&#x65B0; Promise &#x7684;&#x503C;&#x3002;</p>
<pre><code>Promise.reject = function(reason) {  
    return new Promise((resolve, reject) =&gt; reject(reason))  
}
</code></pre><h3 id="promiseall">Promise.all</h3>
<p>Promise.all &#x7684;&#x89C4;&#x5219;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p>
<ul>
<li><p>&#x4F20;&#x5165;&#x7684;&#x6240;&#x6709; Promsie &#x90FD;&#x662F; fulfilled&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x7531;&#x4ED6;&#x4EEC;&#x7684;&#x503C;&#x7EC4;&#x6210;&#x7684;&#xFF0C;&#x72B6;&#x6001;&#x4E3A; fulfilled &#x7684;&#x65B0; Promise&#xFF1B;</p>
</li>
<li><p>&#x53EA;&#x8981;&#x6709;&#x4E00;&#x4E2A; Promise &#x662F; rejected&#xFF0C;&#x5219;&#x8FD4;&#x56DE; rejected &#x72B6;&#x6001;&#x7684;&#x65B0; Promsie&#xFF0C;&#x4E14;&#x5B83;&#x7684;&#x503C;&#x662F;&#x7B2C;&#x4E00;&#x4E2A; rejected &#x7684; Promise &#x7684;&#x503C;&#xFF1B;</p>
</li>
<li><p>&#x53EA;&#x8981;&#x6709;&#x4E00;&#x4E2A; Promise &#x662F; pending&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; pending &#x72B6;&#x6001;&#x7684;&#x65B0; Promise&#xFF1B;</p>
</li>
</ul>
<pre><code>Promise.all = function(promiseArr) {  
    let index = 0, result = []  
    return new Promise((resolve, reject) =&gt; {  
        promiseArr.forEach((p, i) =&gt; {  
            Promise.resolve(p).then(val =&gt; {  
                index++  
                result[i] = val  
                if (index === promiseArr.length) {  
                    resolve(result)  
                }  
            }, err =&gt; {  
                reject(err)  
            })  
        })  
    })  
}
</code></pre><h3 id="promiserace">Promise.race</h3>
<p>Promise.race &#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7531;&#x6240;&#x6709;&#x53EF;&#x8FED;&#x4EE3;&#x5B9E;&#x4F8B;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A; fulfilled &#x6216; rejected &#x7684;&#x5B9E;&#x4F8B;&#x5305;&#x88C5;&#x540E;&#x7684;&#x65B0;&#x5B9E;&#x4F8B;&#x3002;</p>
<pre><code>Promise.race = function(promiseArr) {  
    return new Promise((resolve, reject) =&gt; {  
        promiseArr.forEach(p =&gt; {  
            Promise.resolve(p).then(val =&gt; {  
                resolve(val)  
            }, err =&gt; {  
                rejecte(err)  
            })  
        })  
    })  
}
</code></pre><h3 id="promiseallsettled">Promise.allSettled</h3>
<p>Promise.allSettled &#x7684;&#x89C4;&#x5219;&#x662F;&#x8FD9;&#x6837;&#xFF1A;</p>
<ul>
<li><p>&#x6240;&#x6709; Promise &#x7684;&#x72B6;&#x6001;&#x90FD;&#x53D8;&#x5316;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x65B0;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x662F; fulfilled &#x7684; Promise&#xFF0C;&#x4E14;&#x5B83;&#x7684;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x6570;&#x7EC4;&#x7684;&#x6BCF;&#x9879;&#x7531;&#x6240;&#x6709; Promise &#x7684;&#x503C;&#x548C;&#x72B6;&#x6001;&#x7EC4;&#x6210;&#x7684;&#x5BF9;&#x8C61;&#xFF1B;</p>
</li>
<li><p>&#x5982;&#x679C;&#x6709;&#x4E00;&#x4E2A;&#x662F; pending &#x7684; Promise&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x662F; pending &#x7684;&#x65B0;&#x5B9E;&#x4F8B;&#xFF1B;</p>
</li>
</ul>
<pre><code>Promise.allSettled = function(promiseArr) {  
    let result = []  

    return new Promise((resolve, reject) =&gt; {  
        promiseArr.forEach((p, i) =&gt; {  
            Promise.resolve(p).then(val =&gt; {  
                result.push({  
                    status: &apos;fulfilled&apos;,  
                    value: val  
                })  
                if (result.length === promiseArr.length) {  
                    resolve(result)   
                }  
            }, err =&gt; {  
                result.push({  
                    status: &apos;rejected&apos;,  
                    reason: err  
                })  
                if (result.length === promiseArr.length) {  
                    resolve(result)   
                }  
            })  
        })    
    })     
}
</code></pre><h3 id="promiseany">Promise.any</h3>
<p>Promise.any &#x7684;&#x89C4;&#x5219;&#x662F;&#x8FD9;&#x6837;&#xFF1A;</p>
<ul>
<li><p>&#x7A7A;&#x6570;&#x7EC4;&#x6216;&#x8005;&#x6240;&#x6709; Promise &#x90FD;&#x662F; rejected&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x662F; rejected &#x7684;&#x65B0; Promsie&#xFF0C;&#x4E14;&#x503C;&#x4E3A; AggregateError &#x7684;&#x9519;&#x8BEF;&#xFF1B;</p>
</li>
<li><p>&#x53EA;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x662F; fulfilled &#x72B6;&#x6001;&#x7684;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x4E2A;&#x662F; fulfilled &#x7684;&#x65B0;&#x5B9E;&#x4F8B;&#xFF1B;</p>
</li>
<li><p>&#x5176;&#x4ED6;&#x60C5;&#x51B5;&#x90FD;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; pending &#x7684;&#x65B0;&#x5B9E;&#x4F8B;&#xFF1B;</p>
</li>
</ul>
<pre><code>Promise.any = function(promiseArr) {  
    let index = 0  
    return new Promise((resolve, reject) =&gt; {  
        if (promiseArr.length === 0) return   
        promiseArr.forEach((p, i) =&gt; {  
            Promise.resolve(p).then(val =&gt; {  
                resolve(val)  

            }, err =&gt; {  
                index++  
                if (index === promiseArr.length) {  
                  reject(new AggregateError(&apos;All promises were rejected&apos;))  
                }  
            })  
        })  
    })  
}
</code></pre><h2 id="&#x540E;&#x8BDD;">&#x540E;&#x8BDD;</h2>
<p>&#x80FD;&#x770B;&#x5230;&#x8FD9;&#x91CC;&#x7684;&#x5BF9;&#x4EE3;&#x7801;&#x90FD;&#x662F;&#x771F;&#x7231;&#x4E86;&#xFF0C;&#x6BD5;&#x7ADF;&#x4EE3;&#x7801;&#x8FD9;&#x73A9;&#x610F;&#x770B;&#x8D77;&#x6765;&#x662F;&#x771F;&#x7684;&#x5F88;&#x67AF;&#x71E5;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x770B;&#x61C2;&#x4E86;&#x540E;&#xFF0C;&#x5C31;&#x4F1A;&#x50CF;&#x6253;&#x6E38;&#x620F;&#x8D62;&#x4E86;&#x4E00;&#x6837;&#x5F00;&#x5FC3;&#xFF0C;&#x800C;&#x4E14;&#x8FD9;&#x73A9;&#x610F;&#x4F1A;&#x4E0A;&#x763E;&#xFF0C;&#x5F53;&#x4F60;&#x901A;&#x5173;&#x4E86;&#x8D8A;&#x591A;&#x7684;&#x5173;&#x5361;&#x540E;&#xFF0C;&#x4F60;&#x7684;&#x80FD;&#x529B;&#x5C31;&#x4F1A;&#x62D4;&#x9AD8;&#x4E00;&#x4E2A;&#x5C42;&#x6B21;&#x3002;</p>
<h3 id="&#x53C2;&#x8003;&#x8D44;&#x6599;">&#x53C2;&#x8003;&#x8D44;&#x6599;</h3>
<p>[1]</p>
<p>&#x56FE;&#x7247;&#x61D2;&#x52A0;&#x8F7D;: <em><a href="https://juejin.cn/post/6844903856489365518#heading-19" target="_blank">https://juejin.cn/post/6844903856489365518#heading-19</a></em></p>
<p>[2]</p>
<p>forEach#polyfill: <em><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#polyfill" target="_blank">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#polyfill</a></em></p>
<p>[3]</p>
<p>something &gt;&gt;&gt; 0&#x662F;&#x4EC0;&#x4E48;&#x610F;&#x601D;: <em><a href="https://zhuanlan.zhihu.com/p/100790268" target="_blank">https://zhuanlan.zhihu.com/p/100790268</a></em></p>
<p>[4]</p>
<p>stringify: <em><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify</a></em></p>
<p>[5]</p>
<p>&#x5B9E;&#x73B0; JSON.stringify: <em><a href="https://github.com/YvetteLau/Step-By-Step/issues/39#issuecomment-508327280" target="_blank">https://github.com/YvetteLau/Step-By-Step/issues/39#issuecomment-508327280</a></em></p>
<p>[6]</p>
<p>JSON.parse &#x4E09;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;: <em><a href="https://github.com/youngwind/blog/issues/115#issue-300869613" target="_blank">https://github.com/youngwind/blog/issues/115#issue-300869613</a></em></p>
<p>[7]</p>
<p>Promise A+ &#x89C4;&#x8303;: <em><a href="https://promisesaplus.com/" target="_blank">https://promisesaplus.com/</a></em></p>
<p>[8]</p>
<p>BAT&#x524D;&#x7AEF;&#x7ECF;&#x5178;&#x9762;&#x8BD5;&#x95EE;&#x9898;&#xFF1A;&#x53F2;&#x4E0A;&#x6700;&#x6700;&#x6700;&#x8BE6;&#x7EC6;&#x7684;&#x624B;&#x5199;Promise&#x6559;&#x7A0B;: <em><a href="https://juejin.cn/post/6844903625769091079" target="_blank">https://juejin.cn/post/6844903625769091079</a></em></p>
<p>[9]</p>
<p>100 &#x884C;&#x4EE3;&#x7801;&#x5B9E;&#x73B0; Promises/A+ &#x89C4;&#x8303;: <em><a href="https://mp.weixin.qq.com/s/qdJ0Xd8zTgtetFdlJL3P1g" target="_blank">https://mp.weixin.qq.com/s/qdJ0Xd8zTgtetFdlJL3P1g</a></em></p>
<p>[10]</p>
<p>&#x6DF1;&#x5165;&#x7406;&#x89E3; Promise: <em><a href="https://bubuzou.com/2020/10/22/promise/" target="_blank">https://bubuzou.com/2020/10/22/promise/</a></em> </p>
<footer class="page-footer"><span class="copyright">Copyright  all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2021-11-22 14:30:56
</span></footer>
<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="JSON.parse实现深拷贝的弊端.html" class="navigation navigation-prev " aria-label="Previous page: JSON拷贝">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="MIME.html" class="navigation navigation-next " aria-label="Next page: MIME">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"JS手写题","level":"1.10.6","depth":2,"next":{"title":"MIME","level":"1.10.7","depth":2,"path":"前端杂项/MIME.md","ref":"前端杂项/MIME.md","articles":[]},"previous":{"title":"JSON拷贝","level":"1.10.5","depth":2,"path":"前端杂项/JSON.parse实现深拷贝的弊端.md","ref":"前端杂项/JSON.parse实现深拷贝的弊端.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-lunr","-search","back-to-top-button","chapter-fold","expandable-chapters","search-pro","github","splitter","tbfed-pagefooter","pageview-count","popup","livereload"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright ","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"chapter-fold":{},"github":{"url":"https://github.com/ytnosmoking"},"livereload":{},"splitter":{},"search-pro":{},"popup":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"pageview-count":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","author":"ytnosmoking","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Study","language":"zh-hans","links":{"sidebar":{"Gitee":"https://gitee.com/go_show"}},"gitbook":"*","description":"个人学习markdowns","theme-default":{"showLevel":true}},"file":{"path":"前端杂项/JS手写题.md","mtime":"2021-11-22T06:30:56.671Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-01-28T02:25:34.646Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

